[{"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/index.tsx":"1","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/reportWebVitals.ts":"2","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/App.tsx":"3","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/apollo.ts":"4","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/routers/logged-out-router.tsx":"5","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/routers/logged-in-router.tsx":"6","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/login.tsx":"7","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/create-account.tsx":"8","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/form-error.tsx":"9","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/button.tsx":"10","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/constant.ts":"11","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/client/restaurants.tsx":"12","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/404.tsx":"13","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/header.tsx":"14","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/hooks/useMe.tsx":"15","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/user/confirm-email.tsx":"16","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/user/edit-profile.tsx":"17","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/__generated__/globalTypes.ts":"18","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/restaurant.tsx":"19","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/client/search.tsx":"20"},{"size":755,"mtime":1607792779000,"results":"21","hashOfConfig":"22"},{"size":425,"mtime":1607512935000,"results":"23","hashOfConfig":"22"},{"size":399,"mtime":1607603274000,"results":"24","hashOfConfig":"22"},{"size":1229,"mtime":1607837275000,"results":"25","hashOfConfig":"22"},{"size":594,"mtime":1608304824000,"results":"26","hashOfConfig":"22"},{"size":1328,"mtime":1608305194000,"results":"27","hashOfConfig":"22"},{"size":4194,"mtime":1607793806000,"results":"28","hashOfConfig":"22"},{"size":4463,"mtime":1607840260000,"results":"29","hashOfConfig":"22"},{"size":229,"mtime":1607752754000,"results":"30","hashOfConfig":"22"},{"size":470,"mtime":1607782289000,"results":"31","hashOfConfig":"22"},{"size":51,"mtime":1607792139000,"results":"32","hashOfConfig":"22"},{"size":4269,"mtime":1608306933000,"results":"33","hashOfConfig":"22"},{"size":591,"mtime":1608038204000,"results":"34","hashOfConfig":"22"},{"size":1095,"mtime":1607874757000,"results":"35","hashOfConfig":"22"},{"size":280,"mtime":1607847240000,"results":"36","hashOfConfig":"22"},{"size":1783,"mtime":1608038337000,"results":"37","hashOfConfig":"22"},{"size":2935,"mtime":1608038321000,"results":"38","hashOfConfig":"22"},{"size":916,"mtime":1608301661000,"results":"39","hashOfConfig":"22"},{"size":559,"mtime":1608216744000,"results":"40","hashOfConfig":"22"},{"size":511,"mtime":1608307043000,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"fk3f8s",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"44"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/index.tsx",[],["85","86"],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/reportWebVitals.ts",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/App.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/apollo.ts",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/routers/logged-out-router.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/routers/logged-in-router.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/login.tsx",["87","88"],"import { gql, useMutation } from \"@apollo/client\";\nimport React from \"react\";\nimport Helmet from \"react-helmet-async\";\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport { authTokenVar, isLoggedInVar } from \"../apollo\";\nimport { Button } from \"../components/button\";\nimport { FormError } from \"../components/form-error\";\nimport { LOCALSTORAGE_TOKEN } from \"../constant\";\nimport nuberLogo from \"../images/cubUberLogo.svg\";\n\nimport {\n  loginMutation,\n  loginMutationVariables,\n} from \"../__generated__/loginMutation\";\n\nconst LOGIN_MUTATION = gql`\n  mutation loginMutation($loginInput: LoginInput!) {\n    login(input: $loginInput) {\n      ok\n      error\n      token\n    }\n  }\n`;\ninterface ILoginForm {\n  email: string;\n  password: string;\n  resultError?: string;\n}\nexport const Login = () => {\n  const {\n    register,\n    getValues,\n    errors,\n    handleSubmit,\n    formState,\n  } = useForm<ILoginForm>({ mode: \"onChange\" });\n\n  const onCompleted = (data: loginMutation) => {\n    if (data.login.ok) {\n      const {\n        login: { ok, token },\n      } = data;\n      if (ok && token) {\n        console.log(token);\n        localStorage.setItem(LOCALSTORAGE_TOKEN, token);\n        authTokenVar(token);\n        isLoggedInVar(true);\n      }\n    }\n  };\n\n  const [loginMutation, { data: loginMutationResult, loading }] = useMutation<\n    loginMutation,\n    loginMutationVariables\n  >(LOGIN_MUTATION, {\n    onCompleted,\n  });\n\n  const onSumit = () => {\n    if (!loading) {\n      const { email, password } = getValues();\n      loginMutation({\n        variables: {\n          loginInput: {\n            email,\n            password,\n          },\n        },\n      });\n    }\n  };\n  return (\n    <div className=\"h-screen flex items-center flex-col mt-10 lg:mt-28\">\n      <Helmet>\n        <title>Login | Cub Uber Eat</title>\n      </Helmet>\n      <div className=\"w-full max-w-screen-sm flex flex-col items-center px-5\">\n        <img src={nuberLogo} className=\"w-35  mb-5\" alt={\"logo\"}></img>\n        <h4 className=\"w-full text-left text-2xl font-medium mb-4\">\n          Welcom back\n        </h4>\n        <form\n          onSubmit={handleSubmit(onSumit)}\n          className=\"w-full grid gap-3 mt-5 mb-3\"\n        >\n          <input\n            ref={register({\n              required: \"Email is required\",\n              pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n            })}\n            required\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"email\"\n            className=\"p-1 px-5 border-2 text-lg font-light border-gray-200 focus:outline-none focus:border-gray-500\"\n          ></input>\n          {errors.email?.message && (\n            <FormError errorMessage={errors.email?.message}></FormError>\n          )}\n          {errors.email?.type === \"pattern\" && (\n            <FormError errorMessage={\"Please enter a vaild email\"}></FormError>\n          )}\n          <input\n            ref={register({ required: \"Password is required\", minLength: 10 })}\n            required\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"password\"\n            className=\"input\"\n          ></input>\n          {errors.password?.message && (\n            <FormError errorMessage={errors.password?.message}></FormError>\n          )}\n          {errors.password?.type === \"minLength\" && (\n            <FormError\n              errorMessage={\"Password must be more than 10 chars.\"}\n            ></FormError>\n          )}\n          <Button\n            canClick={formState.isValid}\n            loading={loading}\n            actionText={\"Log In\"}\n          ></Button>\n          {loginMutationResult?.login.error && (\n            <FormError\n              errorMessage={loginMutationResult.login.error}\n            ></FormError>\n          )}\n        </form>\n        <div>\n          New to cubUber?{\" \"}\n          <Link\n            to=\"/create-account\"\n            className=\" text-green-500 hover:underline\"\n          >\n            Create an account\n          </Link>{\" \"}\n        </div>\n      </div>\n    </div>\n  );\n};\n","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/create-account.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/form-error.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/button.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/constant.ts",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/client/restaurants.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/404.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/header.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/hooks/useMe.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/user/confirm-email.tsx",["89","90"],"import { gql, useApolloClient, useMutation } from \"@apollo/client\";\nimport React, { useEffect } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useHistory } from \"react-router-dom\";\nimport { useMe } from \"../../hooks/useMe\";\nimport {\n  verifyEmail,\n  verifyEmailVariables,\n} from \"../../__generated__/verifyEmail\";\n\nconst VERIFY_EMAIL_MUTATION = gql`\n  mutation verifyEmail($input: VerifyEmailInput!) {\n    verifyEmail(input: $input) {\n      error\n      ok\n    }\n  }\n`;\n\nexport const ConfirmEmail = () => {\n  const { data: userData, refetch } = useMe();\n  const client = useApolloClient();\n  const history = useHistory();\n\n  const onCompleted = async (data: verifyEmail) => {\n    const {\n      verifyEmail: { ok },\n    } = data;\n    if (ok && userData?.me.id) {\n      client.writeFragment({\n        id: `User:${userData.me.id}`,\n        fragment: gql`\n          fragment VerifiedUser on User {\n            verified\n          }\n        `,\n        data: {\n          verified: true,\n        },\n      });\n      await refetch();\n      history.push(\"/\");\n    }\n  };\n  const [verifyEmail] = useMutation<verifyEmail, verifyEmailVariables>(\n    VERIFY_EMAIL_MUTATION,\n    { onCompleted }\n  );\n  useEffect(() => {\n    const [_, code] = window.location.href.split(\"code=\");\n    console.log(\"code :\", code);\n    verifyEmail({\n      variables: {\n        input: {\n          code,\n        },\n      },\n    });\n  }, []);\n  return (\n    <div className=\"mt-52 flex flex-col items-center justify-center\">\n      <Helmet>\n        <title>Verify Email | Cub Uber Eat </title>\n      </Helmet>\n      <h2 className=\"text-lg mb-2 font-medium\">Confirming email ...</h2>\n      <h4 className=\"text-gray-700 text-sm\">\n        Please wait, don't close this page...\n      </h4>\n    </div>\n  );\n};\n","/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/user/edit-profile.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/__generated__/globalTypes.ts",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/components/restaurant.tsx",[],"/Users/zizimoos/Desktop/third/cub-uber-frontend/src/pages/client/search.tsx",["91","92"],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":91,"column":34,"nodeType":"99","messageId":"100","endLine":91,"endColumn":35,"suggestions":"101"},{"ruleId":"97","severity":1,"message":"98","line":91,"column":59,"nodeType":"99","messageId":"100","endLine":91,"endColumn":60,"suggestions":"102"},{"ruleId":"103","severity":1,"message":"104","line":50,"column":12,"nodeType":"105","messageId":"106","endLine":50,"endColumn":13},{"ruleId":"107","severity":1,"message":"108","line":59,"column":6,"nodeType":"109","endLine":59,"endColumn":8,"suggestions":"110"},{"ruleId":"103","severity":1,"message":"104","line":9,"column":12,"nodeType":"105","messageId":"106","endLine":9,"endColumn":13},{"ruleId":"107","severity":1,"message":"111","line":14,"column":6,"nodeType":"109","endLine":14,"endColumn":8,"suggestions":"112"},"no-native-reassign",["113"],"no-negated-in-lhs",["114"],"no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["115","116"],["117","118"],"@typescript-eslint/no-unused-vars","'_' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'verifyEmail'. Either include it or remove the dependency array.","ArrayExpression",["119"],"React Hook useEffect has missing dependencies: 'history' and 'location.search'. Either include them or remove the dependency array.",["120"],"no-global-assign","no-unsafe-negation",{"messageId":"121","fix":"122","desc":"123"},{"messageId":"124","fix":"125","desc":"126"},{"messageId":"121","fix":"127","desc":"123"},{"messageId":"124","fix":"128","desc":"126"},{"desc":"129","fix":"130"},{"desc":"131","fix":"132"},"removeEscape",{"range":"133","text":"134"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"135","text":"136"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"137","text":"134"},{"range":"138","text":"136"},"Update the dependencies array to be: [verifyEmail]",{"range":"139","text":"140"},"Update the dependencies array to be: [history, location.search]",{"range":"141","text":"142"},[2358,2359],"",[2358,2358],"\\",[2383,2384],[2383,2383],[1419,1421],"[verifyEmail]",[416,418],"[history, location.search]"]